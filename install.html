<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>VIC by Selective Intellect</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/selectiveintellect/vic">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/selectiveintellect/vic/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/selectiveintellect/vic/tarball/master">TAR</a></li>
          <li class="title">DOWNLOAD SOURCE</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">
    <section>
        <div id="title">
        <p>VIC&trade; - A compiler for Microchip&#8217;s PIC&reg; Microcontrollers</p>
        <hr>
        <span class="credits left">Project sponsored by <a
        href="http://selectiveintellect.com">Selective Intellect</a></span>
        <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        <br/><br/>
        <span class="credits left"><a href="./index.html">Table of Contents</a></span>
        <span class="credits right"><a href="inception.html">Prev</a>&nbsp;&nbsp;<a href="hardware.html">Next</a></span>
        </div>
<h1>Installation</h1>

<p>There are two easy ways to install VIC. One is using CPAN and the other is
from source.</p>

<h2>Pre-requisites</h2>

<p>You will need an operating system that supports Perl, such as Linux&reg;,
FreeBSD, OpenBSD and Apple&reg; Mac OS X.</p>

<p>For Microsoft Windows&reg;, you can download <a href="http://www.strawberryperl.com">Strawberry
Perl</a>.</p>

<p>The minimum version of Perl required is 5.10.0. (It may work with earlier Perl
versions but there are no guarantees.)</p>

<p>You will also need <code>git</code> installed if you're downloading the code from
<a href="https://github.com/selectiveintellect/vic">Github</a>.</p>

<h2>Supporting Applications</h2>

<p>To make full use of VIC&trade; you need to install the following applications as
well:</p>

<ul>
<li><a href="http://gputils.sourceforge.net">gputils</a> version <code>1.3.0</code> or better for compiling VIC&trade; output
<ul>
<li>For Windows download the pre-built installers from <a href="http://sourceforge.net/projects/gputils/files/latest/download">http://sourceforge.net/projects/gputils/files/latest/download</a>
and then install CPAN's <a href="https://metacpan.org/pod/Alien::gputils">Alien::gputils</a> module as outlined <a href="#dependencies">here</a>.</li>
<li>For Linux and Mac OS X, the user can either install it themselves or using
CPAN's <a href="https://metacpan.org/pod/Alien::gputils">Alien::gputils</a> module as outlined <a href="#dependencies">here</a>.</li>
</ul></li>
<li><a href="http://gpsim.sourceforge.net/gpsim.html">gpsim</a> version <code>0.27.0</code> or better for default simulator support
<ul>
<li>For Windows download the pre-built installers from <a href="http://sourceforge.net/projects/gpsim/files/snapshot_builds/gpsim-win32/">http://sourceforge.net/projects/gpsim/files/snapshot_builds/gpsim-win32/</a>.</li>
</ul></li>
<li><a href="http://piklab.sourceforge.net/">Piklab</a> as an IDE, if you so desire to use one.</li>
<li><a href="pk2cmd.html">pk2cmd</a> for command-line programming of the device, if using the <a href="http://www.microchip.com/pickit2/">PICKit 2 Starter Kit</a></li>
<li><a href="http://gtkwave.sourceforge.net/">gtkwave</a> for viewing simulator output
waveforms.</li>
</ul>

<h2>Installing from CPAN</h2>

<p>This is the simplest way to install the release versions of VIC into
<code>/usr/local</code> of your Unix-like system.</p>

<pre><code>$ sudo cpan -i VIC
</code></pre>

<p>On Microsoft Windows&reg;, you can install using the below command from the
Strawberry Perl command shell.</p>

<pre><code>&gt; cpan -i VIC
</code></pre>

<p>Another way to install from CPAN is to use <code>App::cpanminus</code>, which may be
available on your operating system or Perl installation. If it is not available, you could install that as well using the
cpan client.</p>

<pre><code>&gt; cpan -i App::cpanminus
&gt; cpanm VIC
</code></pre>

<h2>Building from source</h2>

<p>You may need to install the Perl package dependencies first which are done as
<a href="#dependencies">below</a>.</p>

<p>Download the software from Github.</p>

<pre><code>$ git clone https://github.com/selectiveintellect/vic.git
$ cd vic
$ perl ./Build.PL --install_base=/usr/local/
$ ./Build test
$ sudo ./Build install
</code></pre>

<h2>Dependencies</h2>

<p>This module depends on the following:</p>

<ul>
<li><code>Module::Build</code> (this is needed for building)</li>
<li><code>Pegex</code> (this is needed for grammar parsing. Needs to be installed from CPAN)</li>
<li><code>Moo</code> (this is needed for multiple inheritance management. Needs to be
installed from CPAN)</li>
<li><code>Getopt::Long</code> (for handling command line options. Comes with perl itself)</li>
<li><code>Capture::Tiny</code> (for trapping screen outputs and errors)</li>
<li><code>File::Which</code> (for finding paths to <code>gpasm</code>, <code>gplink</code> and <code>gpsim</code>)</li>
<li><code>Alien::gputils</code> (for installing <code>gputils</code> if not available, and/or using the ones already installed)</li>
<li><code>XXX</code> (only required for debugging)</li>
</ul>

<p>You may need to install the Perl package dependencies first which are done as
below:</p>

<pre><code>$ sudo cpan -i Moo Pegex App::Prove File::Which Capture::Tiny
</code></pre>

<p>or using <code>App::cpanminus</code></p>

<pre><code>$ cpanm App::Prove
$ cpanm Pegex
$ cpanm Moo
</code></pre>

<p>The user should also install <code>Alien::gputils</code> on their operating system:</p>

<pre><code>$ cpanm Alien::gputils
</code></pre>

<p>This will install the <code>gputils</code> package if not already present on the system.
For Windows, they will need to download the installer from the link given
<a href="#supportingapplications">earlier</a> and then install <code>Alien::gputils</code>.</p>

<h2>Testing the Module (Developers Only)</h2>

<p>To test you will need to have <code>App::Prove</code> installed if you're developing the
software</p>

<pre><code>$ prove -lv t
</code></pre>

<p>Another option is to use <code>Build.PL</code></p>

<pre><code>$ ./Build test
</code></pre>

<h2>Vim Syntax Highlighting</h2>

<p>The installation provides syntax highlighting for the <a href="http://www.vim.org">Vim</a>
editor.</p>

<p>The syntax for VIC is available in the file <code>share/vic.vim</code> in the source
repository or in the <code>share</code> directory of the installation. You can place it in
<code>$HOME/.vim/syntax</code> on Linux, FreeBSD, OpenBSD and OS X, and in <code>$HOME/vimfiles/syntax</code> on Windows
systems.</p>

<h2>Compiling examples</h2>

<p>The examples are in <code>share/examples</code> folder. To compile the <a href="examples.html#helloworld"><code>helloworld.vic</code> example</a> you can do the following:</p>

<pre><code>$ ./bin/vic ./share/examples/helloworld.vic -o ./share/examples/helloworld.asm
</code></pre>

<p>This will generate the PIC&reg; assembly for the VIC file.</p>

<pre><code>$ ./bin/vic ./share/examples/helloworld.vic -o ./share/examples/helloworld.hex
</code></pre>

<p>This will generate the PIC&reg; binary hex file ready to be programmed on to the chip.</p>

<h2>Placing <code>vic</code> in your <code>$PATH</code> for Makefiles</h2>

<p>If you are installing VIC in a local directory, you may need to set it in the
<code>$PATH</code> variable for your system.</p>

<h2>Testing on PIC microcontrollers on Linux and Mac OS X</h2>

<p>The <a href="examples.html#helloworld"><code>helloworld.vic</code></a> test is for the Low Pin Count Demo board from Microchip and
uses the <a href="http://www.microchip.com/pickit2/">PICKit 2 Starter Kit</a> programmer
to write to the microcontroller P16F690 on the board.</p>

<p>You will need to have <code>gputils</code> and <code>gpsim</code> packages installed on Linux or Mac OS X.</p>

<p>For Mac OS X, you may need to use MacPorts to easily install the <code>gputils</code> and <code>gpsim</code> packages.</p>

<pre><code>$ cd share/examples/
$ gpasm -pP16F690 -M -c helloworld.asm -o helloworld.o
$ gplink -q -o helloworld.hex helloworld.o
</code></pre>

<p>This will produce a <code>helloworld.hex</code> file which you will have to write to the
microcontroller using PICKit2 programmer from Microchip. You could use any other
programmer as well as long as you have the right software for it. To write to
the microcontroller on Linux or Mac OS X you need to have <code>pk2cmd</code> installed, as
mentioned <a href="pk2cmd.html">here</a>.</p>

<p>To write to the microcontroller run the following:</p>

<pre><code>$ pk2cmd -PP16F690 -M -Fhelloworld.hex
</code></pre>

<p>To run the test and have the microcontroller execute the code on the Low Pin
Count Demo board to turn on the LED,</p>

<pre><code>$ pk2cmd -PP16F690 -T
</code></pre>

<p>To stop the test and turn off the LED,</p>

<pre><code>$ pk2cmd -PP16F690
</code></pre>

<p>To erase the code from the microcontroller,</p>

<pre><code>$ pk2cmd -PP16F690 -E
</code></pre>

<p><em>NOTE</em>: All the above have been implemented in a <code>GNUmakefile</code> present under
<code>share/examples/GNUmakefile</code>.</p>

<h2>Testing on PIC microcontrollers on Windows</h2>

<p>For Windows, we currently recommend using the Microchip provided IDE. You can
use VIC to generate the assembly files which you can then load into the IDE as
part of your project and use.</p>

<p>You may choose to use <a href="http://piklab.sourceforge.net/">Piklab</a> as your IDE
instead.</p>

<p>If you want to use Cygwin to perform builds using <code>gpasm</code> and <code>pk2cmd</code> you may
do that and let us know if you succeed so we can write instructions for other
users.</p>

<h2>Recompiling the grammar</h2>

<p>This is for VIC developers only.</p>

<p>To recompile the grammar into <code>lib/VIC/Grammar.pm</code> run,</p>

<pre><code>$ ./share/rebuild-grammar
</code></pre>

<p>or</p>

<pre><code>$ ./share/rebuild-grammar.PL
</code></pre>

<p>or</p>

<pre><code>$ perl ./Build.PL
$ ./Build
</code></pre>

<p>All of the above do the same thing.</p>
    <hr>
    <div id="title">
    <span class="credits left"><a href="./index.html">Table of Contents</a></span>
    <span class="credits right"><a href="inception.html">Prev</a>&nbsp;&nbsp;<a href="hardware.html">Next</a></span>
    <br/><br/>
    <p style="font-size:14px;">Vikas N Kumar (<a href="https://github.com/vikasnkumar"
class="user-mention">@vikasnkumar</a>) is the author of
<strong>VIC&trade;</strong>. All copyrights belong to the author and Selective
Intellect LLC.</p>
    <p style="font-size:12px;">VIC&trade; is licensed under the <a
    href="http://dev.perl.org/licenses/">license terms of Perl</a>.
    <br/>
    The development of VIC&trade; is sponsored by <a
    href="http://selectiveintellect.com">Selective Intellect LLC.</a>
    </p>
    <p style="font-size:11px;">
        This page was last updated on 2014-12-02 10:39:14 -0500.
    </p>
    </div>
    </section>
    </div><!-- end wrapper -->
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
